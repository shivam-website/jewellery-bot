<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Invoice {{ item.unique_id }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    /* Hide elements on print */
    @media print {
      .no-print { display: none; }
    }

    /* Invoice container */
    .invoice-container {
      max-width: 800px;
      margin: 40px auto;
      background: #fff;
      color: #000;
      padding: 32px;
      border: 1px solid #ddd;
      border-radius: 12px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu;
    }

    .invoice-container h1, .invoice-container h2, .invoice-container h3 {
      margin: 0 0 16px 0;
      font-weight: 700;
    }

    .invoice-container p {
      margin: 4px 0;
      font-size: 16px;
    }

    .invoice-container hr {
      border: none;
      border-top: 1px solid #eee;
      margin: 16px 0;
    }

    /* Table for item details */
    .invoice-table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }

    .invoice-table th, .invoice-table td {
      border: 1px solid #ddd;
      padding: 12px;
      text-align: left;
    }

    .invoice-table th {
      background: #f5f5f5;
      font-weight: 600;
    }

    .total {
      text-align: right;
      font-size: 18px;
      font-weight: 700;
      margin-top: 16px;
    }

    /* Print button */
    .btn {
      display: inline-block;
      padding: 10px 16px;
      background: #14b8a6;
      color: #001010;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      text-decoration: none;
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <div class="invoice-container">
    <h1>Invoice</h1>
    <p><strong>Shop:</strong> {{ item.owner.shop_name }} ({{ item.owner.email }})</p>
    <p><strong>Date:</strong> {{ item.created_at.strftime("%Y-%m-%d %H:%M") }}</p>
    <hr>

    <table class="invoice-table">
      <tr>
        <th>Jewelry ID</th>
        <td>{{ item.unique_id }}</td>
      </tr>
      <tr>
        <th>Description</th>
        <td>{{ item.description or "-" }}</td>
      </tr>
      <tr>
        <th>Weight</th>
        <td>{{ "%.2f"|format(item.weight_g) }} g</td>
      </tr>
      <tr>
        <th>Labor Cost</th>
        <td>{{ "%.2f"|format(item.labor_cost) }} NPR</td>
      </tr>
      <tr>
        <th>Gold Rate (per g)</th>
        <td>{{ "%.2f"|format(rate) }} NPR</td>
      </tr>
    </table>

    <p class="total">Total: {{ "%.2f"|format(final_price) }} NPR</p>
    <button class="btn no-print" onclick="window.print()">Print</button>
  </div>
</body>
</html>
